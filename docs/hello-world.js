const e=Symbol("mount"),t=Symbol("mounted"),n=Symbol("update"),l=Symbol("updated"),o=Symbol("unmount"),r={};function i(e,t){e[0]&&(e[1]=e[0](e[1],t))}function u(e,t){for(let n in e)i(e[n],t)}const s=[],c=Symbol("limitNode"),a={innerHTML:1,textContent:1,contenteditable:1},f={style:1},d={id:1,className:1,checked:1,value:1,selected:1},h=e=>"function"==typeof e,p=e=>new Promise(e);function m(e,t,n,l,o,r){if(n=null==n?null:n,l=null==l?null:l,(t="class"!=t||o?t:"className")in e&&d[t]&&(n=e[t]),l!==n)if("o"!=t[0]||"n"!=t[1]||!h(l)&&!h(n))switch(t){case"key":e.dataset.key=l;break;case"ref":l&&(l.current=e);break;case"style":!function(e,t,n){let l,o=e.style;if("object"==typeof t){l=!0;for(let e in t)e in n||y(o,e,null)}if("object"==typeof n)for(let e in n){let r=n[e];l&&t[e]===r||y(o,e,r)}else o.cssText=n}(e,n||"",l||"");break;default:!o&&"list"!=t&&t in e?e[t]=null==l?"":l:null==l?e.removeAttribute(t):e.setAttribute(t,"object"==typeof l?JSON.stringify(l):l)}else!function(e,t,n,l){t=t.slice("-"==t[2]?3:2),l.handleEvent||(l.handleEvent=t=>l[t.type].call(e,t));n?(l[t]||e.addEventListener(t,l),l[t]=n):l[t]&&(e.removeEventListener(t,l),delete l[t])}(e,t,l,r)}function y(e,t,n){let l="setProperty";null==n&&(l="removeProperty",n=null),~t.indexOf("-")?e[l](t,n):e[t]=n}let b=k(null,{children:""}),v=k(null,{children:s});const g=Symbol("mapChildren"),w=Symbol("keyes");function k(e,t,...n){return{children:n,...t,nodeType:e||null}}function N(e){if(S(e))return e;if(!e[g]){let{children:t,keyes:n}=function e(t,n={children:[]},l=0){if((e=>Array.isArray(e))(t)){let o=t.length;for(let r=0;r<o;r++)e(t[r],n,l+1)}else{if(null==t&&!l)return n;let o=N(t);if(null!=o&&"object"==typeof o){if(h(o.nodeType)){let{nodeType:t,...r}=o;return e(t(r),n,l+1)}let{key:t}=o;null!=t&&(t+="",n.keyes=n.keyes||[],n.keyes.includes(t)||n.keyes.push(t))}n.children.push(o)}return n}(e.children);e.children=t.length?t:s,n&&n.length==t.length&&(e[w]=n),e[g]=!0}return e}function S(e){let t=typeof e;return null==e||"string"==t||"number"==t||"function"==t||"boolean"==t}const C=e=>e instanceof Node,x=e=>e[c]=e.appendChild(new Comment);function j(e,t,n,l){let o=e[c];if(!o){let{childNodes:t}=e,n=t.length;for(let e=0;e<n;e++){let e=t[n];if(e instanceof Comment){o=e;break}}}o||(o=x(e)),e[l?"appendChild":"insertBefore"](t,n||o)}function E(e,t,n,l){let{vnode:o,handlers:r={}}=t&&t[e]||{};if(o==n&&null!=o)return t;var i;n=S(n)?function(e){let t=typeof e;return null==e||"boolean"==t||"function"==t}(i=n)?b:k(null,{children:""+i}):n;let{nodeType:u,shadowDom:s,children:d,is:h,...p}=o||v,{nodeType:y,shadowDom:g,children:N,is:T,...A}=n;if(l=l||"svg"==y,"host"!=y&&(!function(e,t){let n=e&&C(e),l=t&&C(t);if(l&&n)return l==l;if(e){e.localName||(e.localName=e.nodeName.toLowerCase());let n=e.localName;return("#text"==n?null:n)==t}}(t,y)||h!=T)){let e=function(e,t,n){let l,o=document;if(null!=e){if(C(e))return e;l=t?o.createElementNS("http://www.w3.org/2000/svg",e):o.createElement(e,n?{is:n}:null)}else l=o.createTextNode("");return l}(y,l,T),n=t&&t.parentNode;n&&n.replaceChild(e,t),t=e,r={}}if(f[y]&&(y=null,N=N.join("")),null==y)t.textContent!=N&&(t.textContent=N);else{if(s!=g){let{shadowRoot:e}=t,n=g&&!e?"open":!g&&e?"closed":0;n&&t.attachShadow({mode:n})}(function(e,t,n,l,o){t=t||{};for(let r in t)r in n||m(e,r,t[r],null,l,o);let r;for(let i in n)m(e,i,t[i],n[i],l,o),r=r||a[i];return r})(t,p,A,l,r)||d==N||function(e,t,n,l,o){let r=n.length,{childNodes:i}=t,u={},s=i.length,a=0,f=t[c];for(;a<s;a++){let e=i[a];if(e==f||e instanceof Comment){f=e;break}if(l){let t=e.dataset.key;if(l.includes(t)){u[t]=e;continue}}(l||a>=r)&&(a--,s--,e.remove())}f||(f=x(t));for(let s=0;s<r;s++){let r=n[s],c=s==a?null:i[s],d=l?r.key:s,h=l?u[d]:c;l&&h&&h!=c&&t.insertBefore(h,c);let p=E(e,h,r,o);h||(j(t,p,s==a?f:i[s]),a++)}}(e,g?t.shadowRoot:t,N,A[w],l)}return t[e]={vnode:n,handlers:r},t}const T=[!0,1,"","1","true"];const A=(e,t)=>Object.assign(new Error("Failed prop\n"+t),e);let O,L=[];const P=Symbol("important");function F(){let e=performance.now(),t=L.length,n=L;for(L=[];t--;){let l=n[t];if(!(l[P]||performance.now()-e<1e3/60)){L=L.concat(n.slice(0,t+1));break}l()}L.length?requestAnimationFrame(F):O=!1}function $(e){O||(O=!0,(e=>{Promise.resolve().then(e)})(F)),L.includes(e)||L[e[P]?"unshift":"push"](e)}const B=Symbol("props"),D=Symbol("ignore");function z(s,c,a){if(s.mount)return;let f,d,h,m,y=Symbol("vnode");s[B]={};let b=()=>{f=!1,b[P]&&(b[P]=!1);try{!function(e,t,n="vnode"){null!=e&&"object"==typeof e&&"host"!=e.nodeType&&(e=k("host",{children:e})),E(n,t,e=N(e))}(v.load(c,{...s[B]}),s,y),m()}catch(e){(a||console.error)(e)}};b[P]=!0,s.update=()=>{if(d)return;let e=s.rendered;return f||(f=!0,e=p(e=>m=e).then(v.updated),h?$(b):s.mounted.then(()=>{h=!0,$(b)})),s.rendered=e};let v=function(s,c){let a,f={},d={use:function(t,l){let o,u=r.index++;f[u]||(f[u]=[null,l],o=1);return f[u][0]=t,i(f[u],o?e:n),f[u]},load:function(e,t){r.index=0,r.ref=h;let n=e(t);return r.ref=0,n},updated:function(){let e=a?l:t;a=1,u(f,e)},unmount:function(){u(f,o)}},h={hook:d,host:c,render:s};return d}(()=>$(s.update),s);s.mounted=p(e=>s.mount=()=>{h=!1,1==d&&(d=!1,s.mounted=s.update()),e()}),s.unmounted=p(e=>s.unmount=()=>{d=!0,v.unmount(),e()}),s.initialize(),s.update()}function J(e,t,n,l,o){if(l in e)return;let r=(e=>e.replace(/([A-Z])/g,"-$1").toLowerCase())(l),i=(o=o.name?{type:o}:o).type==Function;Object.defineProperty(e,l,{set:function(e){let t=this[B][l];!i&&h(e)&&(e=e(t));let{value:n,error:u}=function(e,t=String){try{if(t==Boolean?e=T.includes(e):"string"==typeof e&&(e=t==Number?Number(e):t==Object||t==Array?JSON.parse(e):e),{}.toString.call(e)==`[object ${t.name}]`)return{value:e,error:t==Number&&Number.isNaN(e)}}catch(e){}return{value:e,error:!0}}(e,o.type);if(u&&null!=n)throw A({target:this,schema:o,value:n},`The value defined for prop '${l}' must be of type '${o.type.name}'`);if(o.options&&!o.options.includes(n))throw A({target:this,schema:o,value:n},`The value defined for prop '${l}' It is not a valid option`);if(t==n)return;this[B][l]=n;let s=this.update();o.event&&s.then(()=>{return e=this,t=o.event.type||l,n=o.event,e.dispatchEvent(new CustomEvent(t,"object"==typeof n?n:null));var e,t,n}),o.reflect&&this.mounted.then(()=>{this[D]=r,((e,t,n)=>{null==n?e.removeAttribute(t):e.setAttribute(t,"object"==typeof n?JSON.stringify(n):n)})(this,r,o.type!=Boolean||n?n:null),this[D]=!1})},get:function(){return this[B][l]}}),"value"in o&&t.push(e=>{let{value:t}=o;e[l]=h(t)?t():t}),n.push(r)}const M=({message:e})=>k("host",{shadowDom:!0},k("style",null,":host{font-size:30px}"),k("h1",null,"ðŸ‘‹ ",e));M.props={message:{type:String,value:"hello-world",reflect:!0,event:{type:"changeMessage"}}};var H=function e(t,n,l){if(h(t)){let e=n||HTMLElement;n=t;let{props:l,error:o}=n,r=[],i=[],u=class extends e{constructor(){super(),z(this,n,o)}connectedCallback(){z(this,n,o),this.mount()}disconnectedCallback(){this.unmount()}attributeChangedCallback(e,t,n){e!==this[D]&&t!==n&&(this[(e=>e.replace(/-(\w)/g,(e,t)=>t.toUpperCase()))(e)]=n)}initialize(){let e=r.length;for(;e--;)r[e](this)}},s=u.prototype;for(let e in l)J(s,r,i,e,l[e]);return u.observedAttributes=i,u.props=l,u}{let{base:o,...r}=l||{},i=()=>customElements.define(t,e(n,o),r);return r.waitFor?Promise.all([].concat(r.waitFor).map(e=>customElements.whenDefined(e))).then(i):i(),e=>r.extends?k(r.extends,{...e,is:t}):k(t,e)}}("hello-world",M);export default H;
//# sourceMappingURL=hello-world.js.map
